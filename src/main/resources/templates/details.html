<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <title></title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>
<body>
<header th:insert="blocks/headerPLusfooter :: header">
</header>
<div class="container mt-5">
    <div class="d-flex justify-content-center ">
        <h4 class="border rounded-pill p-3" id="countdown"/>
    </div>
    <div th:each="el : ${post}" class="text-center">
        <h3 th:text="${el.name}"/>
    <div th:text="${allinf}" class="alert alert-dark text-center"></div>
    <th:block th:if="${b}==1">
    <form  th:action="'/all/'+ ${el.id}" method="post">
        <button type="submit" class="btn btn-warning alert alert-dark text-center">Удалить</button>
    </form>
    </th:block>
</div>
</div>
</body>
<script th:inline="javascript">
/*<![CDATA[*/
var end = /*[[${endtime}]]*/;
window.onload=function(){
  window.setInterval(function(){
      var now = Date.parse(new Date())
      if(now<end){
      var timelefT = end-now;
      var days = Math.floor(timelefT / (1000 * 60 * 60 * 24));
      if (days < 10) days="0"+days;
      var hours = Math.floor((timelefT % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      if (hours < 10) hours="0"+hours;
      var minutes = Math.floor((timelefT % (1000 * 60 * 60)) / (1000 * 60));
      if (minutes < 10) minutes="0"+minutes;
      var seconds = Math.floor((timelefT % (1000 * 60)) / 1000);
      if (seconds < 10) seconds="0"+seconds;
      document.getElementById("countdown").innerHTML = days + "дней " + hours + "часов " + minutes + "минут " + seconds + "секунд";
      }
      else return;
      },1000);
    };
/*]]>*/
</script>
</html>